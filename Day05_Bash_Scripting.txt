# Day 5: Bash Scripting â€“ Loops, Functions, Exit Codes

ðŸ“… Date: August 06, 2025
ðŸŽ¯ Topic: Bash scripting fundamentals â€“ loops, functions, and exit codes

---

## ðŸ” Bash Loops

### âž¤ For Loop
```bash
for i in {1..5}; do
  echo "Iteration $i"
done
```
Use for iterating through a sequence of values.

### âž¤ While Loop
```bash
count=1
while [ $count -le 5 ]; do
  echo "Count: $count"
  ((count++))
done
```
Use while a condition is true.

### âž¤ Until Loop
```bash
count=1
until [ $count -gt 5 ]; do
  echo "Count: $count"
  ((count++))
done
```
Runs until condition becomes true.

---

## ðŸ”§ Bash Functions

### âž¤ Function Declaration & Usage
```bash
say_hello() { 
  echo "Hello, $1!" 
}

say_hello "Tathagat"
```

### âž¤ Returning Values from Functions
```bash
add() {
  local sum=$(( $1 + $2 ))
  echo $sum
}

result=$(add 5 15)
echo "Sum is: $result"
```

Use `echo` for returning strings and `return` for exit codes.

---

## ðŸšª Exit Codes

- **0**: Success
- **1-255**: Error/Failure

### âž¤ Check Exit Code
```bash
ls /nonexistent_dir
echo $?  # Non-zero exit code
```

### âž¤ Abort on Error
```bash
#!/bin/bash
set -euo pipefail
```

- `-e`: Exit on any error
- `-u`: Treat unset variables as error
- `pipefail`: Catch failure in any part of pipeline

---

## â“ Common Interview Questions

1. **What are different loops in Bash?**  
   - `for`, `while`, and `until`.

2. **How to pass parameters to a function?**  
   - Use `$1`, `$2`, etc.

3. **How are exit codes useful?**  
   - Determine command/script success/failure.

4. **Difference between echo and return?**  
   - `echo` is used to output data; `return` is for numeric exit codes.

5. **What does `set -euo pipefail` do?**  
   - Adds strict error handling to your script.

---

## ðŸ§  Real World Use Case

```bash
check_service() {
  systemctl is-active "$1" >/dev/null
  if [ $? -eq 0 ]; then
    echo "$1 is running."
  else
    echo "$1 is not running."
  fi
}

check_service nginx
```

---

âœ… Keep practicing by writing scripts that automate repetitive tasks in your environment.

ðŸ“‚ Repo: Add this as `Day05_Bash_Scripting.txt` in your DevOps Interview Prep GitHub repo.
